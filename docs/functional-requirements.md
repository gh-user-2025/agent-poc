# 工場設備管理システム 機能要件定義書

## 1. アプリケーション開発の目的や背景

### 1.1 開発目的
工場設備管理システムは、工場内の設備の稼働状況やメンテナンス情報を一元管理し、効率的な運用をサポートすることを目的として開発されます。

### 1.2 背景
現代の製造業では、設備の稼働効率向上と予防保全によるコスト削減が重要な課題となっています。本システムでは以下の課題解決を目指します：

- **設備稼働率の向上**: リアルタイム監視により、ダウンタイムを最小限に抑制
- **メンテナンスコストの削減**: 予防保全により、計画外停止を10-15%削減
- **品質向上**: 異常検知により、不良品発生率を削減
- **データ駆動型の意思決定**: 蓄積されたデータに基づく効率的な運用改善

### 1.3 期待される効果
- 設備稼働率の38%向上（成功事例より）
- メンテナンスコストの大幅削減
- 故障予測精度85%以上の達成
- 生産性向上とデータに基づいた運用改善提案

## 2. 対象ユーザーや利用シーン

### 2.1 主要ユーザー

#### 2.1.1 工場オペレーター
- **役割**: 設備の日常的な監視と操作
- **システム利用レベル**: 中級
- **利用シーン**: 
  - リアルタイム設備監視ダッシュボードの確認
  - 異常アラートへの初期対応
  - 稼働率・効率指標の確認

#### 2.1.2 メンテナンス担当者
- **役割**: 設備の保守・修理・点検
- **システム利用レベル**: 上級
- **利用シーン**:
  - メンテナンススケジュール管理
  - 作業記録の入力と管理
  - 故障予測分析結果の確認
  - 予防保全計画の立案

#### 2.1.3 工場管理者
- **役割**: 工場全体の運営管理と意思決定
- **システム利用レベル**: 中級
- **利用シーン**:
  - 工場全体の稼働状況把握
  - データ分析結果に基づく意思決定
  - コスト分析と効率化施策の検討

#### 2.1.4 品質管理者
- **役割**: 製品品質の維持・向上
- **システム利用レベル**: 中級
- **利用シーン**:
  - 品質データ分析
  - 異常パターン検知
  - トレーサビリティ確保

### 2.2 副次ユーザー

#### 2.2.1 システム管理者
- **役割**: システムの技術的管理と運用
- **利用シーン**: システム設定、ユーザー管理、セキュリティ管理

#### 2.2.2 IoTセンサー（自動化システム）
- **役割**: 設備データの自動収集と送信
- **利用シーン**: 24時間365日の自動データ収集・送信

## 3. 主要な機能やサービス

### 3.1 リアルタイム監視機能
- **設備稼働状況のリアルタイム監視**
  - 設備一覧とリアルタイム稼働状況の表示
  - 詳細な稼働データ（温度、圧力、振動等）の表示
  - 稼働率、効率指標の自動計算・表示
  - 処理遅延1秒以内の実現

- **異常検知とアラート対応**
  - IoTセンサーによる異常値の自動検知
  - アラートの自動生成と通知（メール、SMS、システム内通知）
  - 緊急アラート発信と自動設備停止機能
  - アラート対応状況の記録・更新

### 3.2 メンテナンス管理機能
- **予防保全スケジュール管理**
  - 設備別メンテナンススケジュールの管理
  - スケジュール競合チェック機能
  - 関係者への予定通知機能
  - 次回メンテナンス予定日の自動計算

- **メンテナンス作業記録**
  - 作業内容、使用部品、作業時間の記録
  - 作業前後の写真アップロード機能
  - メンテナンス履歴の一元管理
  - 部品在庫管理機能

### 3.3 データ分析機能
- **稼働データ傾向分析**
  - 指定期間の稼働データ抽出・分析
  - 稼働率、効率性、異常発生パターンの分析
  - 分析結果のグラフ・レポート表示
  - 効率化提案の自動生成

- **故障予測分析**
  - AI予測モデルによる故障リスク分析
  - 故障リスクの高い設備の特定
  - 推奨対応策の提示
  - 予防保全計画の最適化支援

### 3.4 アラート機能
- 閾値超過時の自動通知
- メンテナンス期限の事前通知
- 異常パターン検知
- マルチチャネル通知（メール・SMS・システム内）

### 3.5 システム管理機能
- **ユーザー管理**: アカウント作成、権限設定、無効化
- **マスタデータ管理**: 設備情報、センサー設定、閾値設定
- **システム設定管理**: アラート設定、通知設定、バックアップ設定

## 4. 画面や操作

### 4.1 監視ダッシュボード
- **メイン画面**: 工場全体の設備稼働状況一覧
- **設備詳細画面**: 個別設備の詳細データ表示
- **アラート画面**: 現在発生中のアラート一覧
- **リアルタイムグラフ**: センサーデータのリアルタイム表示

### 4.2 メンテナンス管理画面
- **スケジュール管理画面**: カレンダー形式でのメンテナンス予定表示
- **作業記録画面**: メンテナンス作業の詳細記録
- **履歴検索画面**: 過去のメンテナンス履歴検索・表示

### 4.3 データ分析画面
- **傾向分析画面**: 期間・設備指定による分析結果表示
- **故障予測画面**: AI予測結果と推奨対応策表示
- **レポート画面**: 各種レポートの生成・出力

### 4.4 システム管理画面
- **ユーザー管理画面**: ユーザーアカウント・権限管理
- **設備管理画面**: 設備マスタ・センサー設定
- **システム設定画面**: 各種設定項目の管理

### 4.5 操作特性
- **レスポンシブデザイン**: PC・タブレット・スマートフォン対応
- **直感的なUI**: 工場作業者でも簡単に操作可能
- **多言語対応**: 日本語・英語対応
- **アクセシビリティ**: 視覚的ハンディキャップにも配慮

## 5. 外部サービスとのやり取り

### 5.1 IoTデバイス・センサー
- **通信プロトコル**: MQTT、HTTP/HTTPS
- **データ形式**: JSON形式でのセンサーデータ送信
- **通信頻度**: 1秒間隔でのリアルタイムデータ送信
- **データ項目**: 温度、圧力、振動、稼働状態、電力消費等

### 5.2 通知サービス
- **メール通知**: SMTPサーバー経由でのアラート通知
- **SMS通知**: 外部SMS送信サービスとの連携
- **Webプッシュ通知**: ブラウザ・モバイルアプリへのプッシュ通知

### 5.3 認証サービス
- **Azure Active Directory**: シングルサインオン（SSO）による認証
- **多要素認証（MFA）**: セキュリティ強化のための追加認証

### 5.4 外部分析サービス
- **Power BI**: 高度なビジネスインテリジェンス機能
- **Azure Machine Learning**: AI・機械学習モデルの構築・運用
- **Azure Cognitive Services**: 画像認識・自然言語処理等のAI機能

## 6. 他のアプリケーションやサービスとの依存関係

### 6.1 ERP（企業資源計画）システム
- **データ連携**: 設備情報、メンテナンス費用、部品在庫情報
- **連携方式**: REST API、CSVファイル連携
- **連携頻度**: 日次バッチ処理

### 6.2 MES（製造実行システム）
- **データ連携**: 生産計画、稼働実績、品質データ
- **連携方式**: リアルタイムAPI連携
- **連携頻度**: リアルタイム

### 6.3 CMMS（コンピュータ化保全管理システム）
- **データ連携**: メンテナンス履歴、部品交換履歴
- **連携方式**: データベース直接連携、API連携
- **連携頻度**: リアルタイム・日次

### 6.4 在庫管理システム
- **データ連携**: 交換部品在庫情報、発注情報
- **連携方式**: REST API連携
- **連携頻度**: リアルタイム

### 6.5 品質管理システム
- **データ連携**: 品質測定データ、不良品情報
- **連携方式**: データベース連携、ファイル連携
- **連携頻度**: リアルタイム・日次

### 6.6 エネルギー管理システム（EMS）
- **データ連携**: 設備電力消費データ、省エネルギー情報
- **連携方式**: API連携
- **連携頻度**: リアルタイム

### 6.7 セキュリティシステム
- **データ連携**: アクセスログ、セキュリティイベント
- **連携方式**: ログファイル連携、SIEM連携
- **連携頻度**: リアルタイム

## 7. データ要件

### 7.1 データ保存期間
- **リアルタイムデータ**: 3ヶ月間（高頻度アクセス）
- **履歴データ**: 5年間（長期保存）
- **ログデータ**: 1年間（監査対応）

### 7.2 データ量見積もり
- **月間データ量**: 約10GB
- **同時接続ユーザー数**: 最大100ユーザー
- **対象設備数**: 最大1,000台
- **センサー数**: 設備あたり最大10個

### 7.3 データ品質要件
- **データ精度**: ±0.5%以内（測定値）
- **データ完全性**: 99.9%以上
- **データ整合性**: リアルタイム・履歴データ間の整合性保証