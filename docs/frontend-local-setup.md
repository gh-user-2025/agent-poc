# Vue.js フロントエンド ローカル実行手順書

## 概要

本手順書は、工場設備管理システムのVue.js v3フロントエンドアプリケーションをオフラインのローカル環境で実行するための詳細な手順を説明します。

## 前提条件

### 必要なソフトウェア

1. **Node.js** (バージョン 16以上)
   - [Node.js公式サイト](https://nodejs.org/)からダウンロード・インストール
   - インストール確認コマンド：
     ```bash
     node --version
     npm --version
     ```

2. **Git** (バージョン管理用)
   - [Git公式サイト](https://git-scm.com/)からダウンロード・インストール
   - インストール確認コマンド：
     ```bash
     git --version
     ```

### システム要件

- **OS**: Windows 10以上、macOS 10.15以上、Ubuntu 18.04以上
- **RAM**: 最低4GB、推奨8GB以上
- **ディスク容量**: 最低1GB の空き容量
- **ブラウザ**: Chrome 90以上、Firefox 88以上、Safari 14以上、Edge 90以上

## セットアップ手順

### 1. プロジェクトの取得

```bash
# リポジトリのクローン（既にある場合はスキップ）
git clone <repository-url>
cd agent-poc

# または、既存のプロジェクトディレクトリに移動
cd /path/to/your/agent-poc
```

### 2. フロントエンドディレクトリに移動

```bash
cd frontend
```

### 3. 依存関係のインストール

```bash
# npm を使用してパッケージをインストール
npm install
```

**注意**: 初回インストール時は数分かかる場合があります。

### 4. インストール確認

```bash
# インストールされたパッケージを確認
npm list --depth=0
```

以下のパッケージが表示されることを確認してください：
- vue@^3.3.8
- vue-router@^4.2.5
- @vue/cli-service@^5.0.8

## アプリケーションの実行

### 開発サーバーの起動

```bash
# 開発サーバーを起動
npm run dev
```

または

```bash
# 代替コマンド
npx vue-cli-service serve
```

### 起動確認

1. コマンド実行後、以下のようなメッセージが表示されます：
   ```
   App running at:
   - Local:   http://localhost:8080/
   - Network: http://192.168.x.x:8080/
   ```

2. ブラウザで `http://localhost:8080` にアクセス

3. 工場設備管理システムのホーム画面が表示されることを確認

### サーバーの停止

- ターミナルで `Ctrl + C` (Windows/Linux) または `Cmd + C` (Mac) を押下

## 画面の機能確認

### ホーム画面 (`http://localhost:8080/`)

以下の機能が正常に動作することを確認してください：

1. **設備サマリー表示**
   - 総設備数: 7台
   - 稼働中: 4台
   - 待機中: 1台
   - メンテナンス中: 1台
   - エラー: 1台

2. **クイックアクション**
   - 「設備状況を確認」ボタン → 設備稼働状況画面に遷移
   - 「データを更新」ボタン → 更新メッセージ表示
   - 「メンテナンス予定」ボタン → 準備中メッセージ表示

3. **最近のアラート**
   - コンプレッサー-2の温度異常
   - 検査装置-1のメンテナンス時期到達

### 設備稼働状況画面 (`http://localhost:8080/equipment-status`)

以下の機能が正常に動作することを確認してください：

1. **フィルタリング機能**
   - 場所フィルター（ライン A/B/C、共通設備）
   - 状態フィルター（稼働中、待機中、メンテナンス中、エラー）

2. **設備カード表示**
   - 7台の設備が表示される
   - 状態に応じた色分け（緑：稼働中、橙：待機中、赤：メンテナンス/エラー）
   - センサーデータ（温度、圧力、振動）

3. **設備詳細モーダル**
   - 設備カードをクリックして詳細情報表示
   - 基本情報、センサーデータ、履歴の表示

## トラブルシューティング

### よくある問題と解決方法

#### 1. `npm install` でエラーが発生する場合

```bash
# キャッシュをクリア
npm cache clean --force

# node_modulesを削除して再インストール
rm -rf node_modules package-lock.json
npm install
```

#### 2. ポート8080が既に使用されている場合

```bash
# 別のポートで起動
npm run dev -- --port 3000
```

または環境変数で指定：
```bash
PORT=3000 npm run dev
```

#### 3. ブラウザでページが表示されない場合

1. ファイアウォールの設定を確認
2. ブラウザのキャッシュをクリア
3. 別のブラウザで試行
4. ターミナルのエラーメッセージを確認

#### 4. Vue.jsの警告が表示される場合

- 開発モードでは問題ありません
- 本番ビルドでは警告は除去されます

### ログの確認

開発中にエラーが発生した場合：

1. **ブラウザの開発者ツール**
   - F12キーでDevToolsを開く
   - Consoleタブでエラーメッセージを確認

2. **ターミナルログ**
   - `npm run dev` を実行したターミナルでエラーを確認

## 本番ビルド（オプション）

静的ファイルとしてビルドする場合：

```bash
# 本番用ビルド
npm run build
```

ビルド結果は `dist/` フォルダに生成されます。

### 静的ファイルの確認

```bash
# 簡易HTTPサーバーで確認（Node.js http-serverを使用）
npx http-server dist -p 8080
```

## サンプルデータ

本アプリケーションは以下のサンプルデータで動作します：

### 設備データ
- 射出成形機-1, 2（ライン A）
- 組立ロボット-1, 2（ライン B）  
- 検査装置-1（ライン C）
- コンプレッサー-1, 2（共通設備）

### センサーデータ
- 温度（°C）
- 圧力（%）
- 振動（mm/s）

### アラートデータ
- 温度異常
- メンテナンス時期通知

## 追加の開発作業

### 新しいコンポーネントの追加

1. `src/components/` または `src/views/` にVueファイルを作成
2. `src/main.js` でルーティングを設定（必要に応じて）

### スタイルの変更

各コンポーネントの `<style>` セクションで個別にスタイルを変更可能

### APIとの連携

現在はサンプルデータを使用していますが、実際のAPIとの連携は各コンポーネントの `methods` セクションで `fetch` や `axios` を使用して実装可能

## お問い合わせ

技術的な問題や質問がある場合は、プロジェクトのIssuesページで報告してください。

---

**工場設備管理システム フロントエンド v1.0.0**  
最終更新日: 2024年6月23日